<textarea id="text"></textarea>
<button id="submit">投稿</button>

<script type="module">
  // Firebase SDK の設定をここに貼る

  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  document.getElementById("submit").addEventListener("click", async () => {
    const text = document.getElementById("text").value;

    await addDoc(collection(db, "diary"), {
      content: text,
      date: new Date()
    });

    alert("投稿しました！");
  });
</script>
