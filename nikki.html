<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="nikki.css">
  <title>日記</title>
</head>
<body>
  <h2>日記ページ</h2>
  <p>ここに日記を書きます。</p>

  <textarea id="text"></textarea>
  <button id="submit">投稿</button>

  <script type="module">
    // Firebase の設定をここに貼る
    const firebaseConfig = {
      apiKey: "AIzaSyAqLmoaG4B7Z9ahTcdqIBlbkM3RABMllRI",
      authDomain: "xdiary-project-c16de.firebaseapp.com",
      projectId: "diary-project-c16de",
      storageBucket: "diary-project-c16de.firebasestorage.app",
      messagingSenderId: "1024852965954",
      appId: "1:1024852965954:web:80b3d9ffe5fecc58c78bdb"
    };

    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    document.getElementById("submit").addEventListener("click", async () => {
      const text = document.getElementById("text").value;

      await addDoc(collection(db, "diary"), {
        content: text,
        date: new Date()
      });

      alert("投稿しました！");
    });
  </script>


</body>
</html>